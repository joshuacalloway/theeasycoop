@(coop: Coop)(implicit session: Session) 

@import helpers.Utils
@import views.html.tags._

@main(title=coop.name){
  <ul>
  @if(Utils.isManager(session, coop)) {
    <li><a href="@actions.routes.EditCoopAction.editItem(coop.id.get)">Edit Coop</a></li>
    <li><a href="@actions.routes.AddMemberToCoopAction.actionForm(coop.id.get)">Add a member</a></li>
    <li><a href="@actions.routes.AddItemOrderToCoopAction.newItemByCoop(coop.id.get)">Add an Order</a></li>
  }
  </ul>
} {
  
  <span class="label">Name:</span> @{coop.name}
  <br>
  <span class="label">Description:</span> @{coop.description}
  <br>
  <span class="label">Coop Type:</span> @{coop.coopType.name}
  <br>
  <span class="label">State:</span> @{coop.state.name}
  <br>
  <span class="label">Zip:</span> @{coop.zip_code}
  <br>

  <span class="label">Manager:</span> @member(coop.manager)

  @if(coop.isPublic || Utils.isMember(session, coop)) {
    <br>
    <span class="label">Members:</span>
    <ul>
    @coop.members.map { m =>
      @if(Utils.isManager(session,coop)) {
	<li><a href="@actions.routes.SuspendMemberAction.action(coop.id.get, m.id.get)">
Suspend</a> - 
<a href="@actions.routes.UnSuspendMemberAction.action(coop.id.get, m.id.get)">
UnSuspend</a>
-  <a href="/members/@m.id">View</a>@member(m) - @coop.memberStatus(m).name
      } else {
	

	<li>@member(m)
      }


		     }
    </ul>


    <br/>
    <span class="label">ItemOrders</span>

    <ul>
    @coop.itemOrders.map { itemOrder =>
      <li><a href="@actions.routes.ShowItemOrderAction.showItem(coop.id.get, itemOrder.id.get)">@itemOrder.id - @itemOrder.description - @itemOrder.item.name</a>
			}
    </ul>
  }
  

}

    
