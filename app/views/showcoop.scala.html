@(coop: Coop)(implicit session: Session) 

@import helpers.Utils
@import views.html.tags._

@main(title=coop.name){

  @if(Utils.isManager(session, coop)) {
    <div id="managermenu">
    <a href="@actions.routes.EditCoopAction.editItem(coop.id.get)">Edit Coop</a>
    <br/>

    <a href="@actions.routes.AddMemberToCoopAction.actionForm(coop.id.get)">Add a member</a>
    <br/>
    <a href="@actions.routes.AddItemOrderToCoopAction.newItemByCoop(coop.id.get)">Add an Order</a>

    <br/>
    </div>
  }
} {
  
  @{coop.name}
  <br>
  @{coop.description}
  <br>
  @{coop.coopType.name}
  <br>
  @{coop.state.name}
  <br>
  @{coop.zip_code}
  <br>

  Manager : @member(coop.manager)

  @if(coop.isPublic || Utils.isMember(session, coop)) {
    <br>
    Members:
    <ul>
    @coop.members.map { m =>
      @if(Utils.isManager(session,coop)) {
	<li><a href="/members/@m.id">@member(m)</a>
      } else {
	

	<li>@member(m)
      }


		     }
    </ul>


    <br/>
    ItemOrders

    <ul>
    @coop.itemOrders.map { itemOrder =>
      <li><a href="@actions.routes.ShowItemOrderAction.showItem(coop.id.get, itemOrder.id.get)">@itemOrder.id - @itemOrder.description - @itemOrder.item.name</a>
			}
    </ul>
  }
  

}

    
